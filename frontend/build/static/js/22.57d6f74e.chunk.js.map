{"version":3,"sources":["asset/img/icon/search.svg","service/ForumService.js","asset/img/icon/arrow-next.svg","asset/img/icon/arrow-previous.svg","view/Forum/ForumOverviewCard/style.module.scss","view/Forum/style.module.scss","asset/img/icon/topic.svg","view/Forum/ForumOverviewCard/index.js","view/Forum/index.js"],"names":["ForumService","search","url","URLUtils","buildBeURL","BE_ROUTE","FORUM","BASE","PATH","CATEGORIES","HttpService","get","forumId","FORUMS","topicId","TOPICS","POSTS","data","post","postId","isLike","delete","module","exports","TopicOverviewCard","forum","className","id","name","classnames","styles","span","alt","src","iconTopic","to","TEXT_UI_FORUM","THREADS","countTopics","MESSAGES","countPosts","forumTopics","length","title","replace","updatedAt","itemRender","current","type","originalElement","iconPrevious","iconNext","TableTitle","STATISTICS","LASTEST_POST","Forum","useState","categories","setCategories","page","setPage","total","setTotal","useEffect","pageSize","PAGINATION_OPTIONS","getCategories","then","resp","results","fetchData","size","suffix","iconSearch","placeholder","map","category","forums","NO_TOPIC_CREATED","simple","onChange","destinationPage"],"mappings":"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","file":"static/js/22.57d6f74e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/search.67c51618.svg\";","import { URLUtils } from 'utils'\nimport { BE_ROUTE } from 'config'\nimport HttpService from './HttpService'\n\nexport default class ForumService {\n  static getCategories(search) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, BE_ROUTE.FORUM.PATH.CATEGORIES)\n    return HttpService.get(url, search)\n  }\n\n  static getForumDetails(forumId) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}`)\n    return HttpService.get(url)\n  }\n\n  static getTopicDetails(topicId) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}`)\n    return HttpService.get(url)\n  }\n\n  static getTopicsByForum(search, forumId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}${BE_ROUTE.FORUM.PATH.TOPICS}`,\n    )\n    return HttpService.get(url, search)\n  }\n\n  static getPostsByTopic(search, topicId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}${BE_ROUTE.FORUM.PATH.POSTS}`,\n    )\n    return HttpService.get(url, search)\n  }\n\n  static postPost(topicId, data) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}${BE_ROUTE.FORUM.PATH.POSTS}`,\n    )\n    return HttpService.post(url, data)\n  }\n\n  static createTopic(forumId, data) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}${BE_ROUTE.FORUM.PATH.TOPICS}`,\n    )\n    return HttpService.post(url, data)\n  }\n\n  static postTopicView(topicId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}/views`,\n    )\n    return HttpService.post(url)\n  }\n\n  static postPostLike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.post(url, { isLike: true })\n  }\n\n  static postPostDislike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.post(url, { isLike: false })\n  }\n\n  static deletePostLikeDislike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.delete(url)\n  }\n}\n","export default __webpack_public_path__ + \"static/media/arrow-next.58fc74a6.svg\";","export default __webpack_public_path__ + \"static/media/arrow-previous.ed8201ba.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic-overview-card\":\"style_topic-overview-card__46Kox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forum\":\"style_forum__eryGL\"};","export default __webpack_public_path__ + \"static/media/topic.1948ef07.svg\";","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\nimport { Row, Col } from 'antd'\nimport iconTopic from 'asset/img/icon/topic.svg'\nimport { PAGINATION_OPTIONS, FE_ROUTE, TEXT_UI_FORUM } from 'config'\n\nimport styles from './style.module.scss'\n\nexport default function TopicOverviewCard({ forum, className }) {\n  const { id, name } = forum\n\n  return (\n    <div className={classnames([styles['topic-overview-card'], className])}>\n      <Row>\n        <Col span={15} className=\"content\">\n          <Row>\n            <Col>\n              <img alt=\"topic-icon\" src={iconTopic} />\n            </Col>\n            <Col>\n              <Link to={`/forums/${id}`} className=\"topic-title\">\n                {name}\n              </Link>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={4} className=\"statistic\">\n          <div className=\"top\">\n            {TEXT_UI_FORUM.THREADS}: {forum.countTopics}\n          </div>\n          <div className=\"bottom\">\n            {TEXT_UI_FORUM.MESSAGES}: {forum.countPosts}\n          </div>\n        </Col>\n        <Col span={5} className=\"last-post\">\n          {forum.forumTopics && forum.forumTopics.length > 0 ? (\n            <div>\n              <div className=\"top\">\n                <Link className=\"link\" to={`/forums/${id}`}>\n                  {`${forum.forumTopics[0].title.replace(/^(.{30}[^\\s]*).*/, '$1')}...`}\n                </Link>\n              </div>\n              <div className=\"bottom\">{forum.forumTopics[0].updatedAt}</div>\n            </div>\n          ) : (\n            'Chưa có bài đăng'\n          )}\n        </Col>\n      </Row>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Input, Pagination, Row, Col } from 'antd'\n\nimport ForumService from 'service/ForumService'\nimport { PAGINATION_OPTIONS, FE_ROUTE, TEXT_UI_FORUM } from 'config'\n\nimport { Link } from 'react-router-dom'\n\nimport iconSearch from 'asset/img/icon/search.svg'\nimport iconNext from 'asset/img/icon/arrow-next.svg'\nimport iconPrevious from 'asset/img/icon/arrow-previous.svg'\nimport ForumOverviewCard from './ForumOverviewCard'\n\nimport styles from './style.module.scss'\n\nconst itemRender = (current, type, originalElement) => {\n  if (type === 'prev') {\n    return <img alt=\"previous\" src={iconPrevious} />\n  }\n  if (type === 'next') {\n    return <img alt=\"next\" src={iconNext} />\n  }\n  return originalElement\n}\n\nconst TableTitle = ({ id, title }) => (\n  <Row className=\"table-header\">\n    <Col span={15} className=\"title\">\n      {title}\n    </Col>\n    <Col span={4} className=\"title\">\n      {TEXT_UI_FORUM.STATISTICS}\n    </Col>\n    <Col span={5} className=\"title\">\n      {TEXT_UI_FORUM.LASTEST_POST}\n    </Col>\n  </Row>\n)\n\nexport default function Forum() {\n  const [categories, setCategories] = useState([])\n  const [page, setPage] = useState(1)\n  const [total, setTotal] = useState(0)\n\n  useEffect(() => {\n    const fetchData = () => {\n      const search = {\n        page,\n        pageSize: PAGINATION_OPTIONS.FORUM.pageSize,\n      }\n      ForumService.getCategories(search).then((resp) => {\n        setCategories(resp.results)\n        setTotal(resp.total)\n      })\n    }\n    fetchData()\n  }, [page])\n\n  return (\n    <div className={styles.forum}>\n      <div className=\"header\">\n        <h3>{TEXT_UI_FORUM.FORUM}</h3>\n        <Row>\n          <Col className=\"search-bar\">\n            <Input\n              size=\"large\"\n              suffix={<img alt=\"search-icon\" src={iconSearch} />}\n              placeholder=\"Tìm tên các chủ đề...\"\n            />\n          </Col>\n        </Row>\n      </div>\n      {categories.map((category) => (\n        <div>\n          <TableTitle id={category.id} title={category.name} />\n          <div className=\"topics\">\n            {category.forums && category.forums.length > 0 ? (\n              category.forums.map((forum) => (\n                <ForumOverviewCard className=\"forum__topic\" forum={forum} key={forum.id} />\n              ))\n            ) : (\n              <div className=\"forum__no_topic\"> {TEXT_UI_FORUM.NO_TOPIC_CREATED} </div>\n            )}\n          </div>\n        </div>\n      ))}\n      <div className=\"pagination\">\n        <Pagination\n          total={total}\n          simple\n          current={page}\n          pageSize={PAGINATION_OPTIONS.FORUM.pageSize}\n          onChange={(destinationPage) => {\n            setPage(destinationPage)\n          }}\n          itemRender={itemRender}\n        />\n      </div>\n    </div>\n  )\n}\n"],"sourceRoot":""}