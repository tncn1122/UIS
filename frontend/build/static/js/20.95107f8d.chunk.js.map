{"version":3,"sources":["asset/img/icon/search.svg","service/ForumService.js","asset/img/icon/arrow-next.svg","asset/img/icon/arrow-previous.svg","view/Forum/ForumDetail/TopicOverviewCard/style.module.scss","view/Forum/ForumDetail/style.module.scss","view/Forum/ForumDetail/TopicOverviewCard/index.js","view/Forum/ForumDetail/index.js"],"names":["ForumService","search","url","URLUtils","buildBeURL","BE_ROUTE","FORUM","BASE","PATH","CATEGORIES","HttpService","get","forumId","FORUMS","topicId","TOPICS","POSTS","data","post","postId","isLike","delete","module","exports","TopicOverviewCard","topic","className","classnames","styles","span","alt","src","user","userProfile","buildAvatarURL","avatar","full_name","username","moment","updatedAt","createdAt","fromNow","to","id","title","summary","TEXT_UI_FORUM","VIEWS","countViews","REPLIES","countPosts","itemRender","current","type","originalElement","iconPrevious","iconNext","Forum","useState","topics","setTopics","page","setPage","total","setTotal","forumName","setForumName","useParams","useEffect","pageSize","PAGINATION_OPTIONS","FORUM_TOPIC","getTopicsByForum","then","resp","results","fetchData","getForumDetails","name","forum","suffix","iconSearch","placeholder","length","map","simple","onChange","destinationPage"],"mappings":"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","file":"static/js/20.95107f8d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/search.67c51618.svg\";","import { URLUtils } from 'utils'\nimport { BE_ROUTE } from 'config'\nimport HttpService from './HttpService'\n\nexport default class ForumService {\n  static getCategories(search) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, BE_ROUTE.FORUM.PATH.CATEGORIES)\n    return HttpService.get(url, search)\n  }\n\n  static getForumDetails(forumId) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}`)\n    return HttpService.get(url)\n  }\n\n  static getTopicDetails(topicId) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}`)\n    return HttpService.get(url)\n  }\n\n  static getTopicsByForum(search, forumId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}${BE_ROUTE.FORUM.PATH.TOPICS}`,\n    )\n    return HttpService.get(url, search)\n  }\n\n  static getPostsByTopic(search, topicId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}${BE_ROUTE.FORUM.PATH.POSTS}`,\n    )\n    return HttpService.get(url, search)\n  }\n\n  static postPost(topicId, data) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}${BE_ROUTE.FORUM.PATH.POSTS}`,\n    )\n    return HttpService.post(url, data)\n  }\n\n  static createTopic(forumId, data) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}${BE_ROUTE.FORUM.PATH.TOPICS}`,\n    )\n    return HttpService.post(url, data)\n  }\n\n  static postTopicView(topicId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}/views`,\n    )\n    return HttpService.post(url)\n  }\n\n  static postPostLike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.post(url, { isLike: true })\n  }\n\n  static postPostDislike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.post(url, { isLike: false })\n  }\n\n  static deletePostLikeDislike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.delete(url)\n  }\n}\n","export default __webpack_public_path__ + \"static/media/arrow-next.58fc74a6.svg\";","export default __webpack_public_path__ + \"static/media/arrow-previous.ed8201ba.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic-overview-card\":\"style_topic-overview-card__nYjvo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forum\":\"style_forum__3-FfT\"};","import React from 'react'\nimport moment from 'moment'\nimport classnames from 'classnames'\nimport { Row, Col } from 'antd'\nimport { TEXT_UI_FORUM } from 'config'\nimport { Link } from 'react-router-dom'\n\nimport { ErrorHandlerUtils, URLUtils } from 'utils'\n\nimport styles from './style.module.scss'\n\nexport default function TopicOverviewCard({ topic, className }) {\n  return (\n    <div className={classnames([styles['topic-overview-card'], className])}>\n      <Row>\n        <Col span={20} className=\"content\">\n          <Row className=\"top\">\n            <Col>\n              <img\n                alt=\"avatar\"\n                src={\n                  topic.user.userProfile\n                    ? URLUtils.buildAvatarURL(topic.user.userProfile.avatar)\n                    : URLUtils.buildAvatarURL()\n                }\n              />\n            </Col>\n            <Col>\n              <div className=\"author\">\n                {topic.user.userProfile ? topic.user.userProfile.full_name : topic.user.username}\n              </div>\n              <div className=\"time\">\n                {moment(topic.updatedAt ? topic.updatedAt : topic.createdAt).fromNow()}\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <div className=\"title\">\n              <Link to={`/forums/topics/${topic.id}`} className=\"link\">\n                {topic.title}\n              </Link>\n            </div>\n          </Row>\n          <Row>\n            <div className=\"des\">{topic.summary}</div>\n          </Row>\n        </Col>\n        <Col span={4} className=\"statistic\">\n          <div className=\"top\">\n            {TEXT_UI_FORUM.VIEWS}: {topic.countViews}\n          </div>\n          <div className=\"bottom\">\n            {TEXT_UI_FORUM.REPLIES}: {topic.countPosts}\n          </div>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\n\nimport ForumService from 'service/ForumService'\nimport { PAGINATION_OPTIONS } from 'config'\n\nimport { Input, Pagination, Button, Row, Col } from 'antd'\nimport { Link, useParams } from 'react-router-dom'\nimport iconSearch from 'asset/img/icon/search.svg'\nimport iconNext from 'asset/img/icon/arrow-next.svg'\nimport iconPrevious from 'asset/img/icon/arrow-previous.svg'\nimport TopicOverviewComponent from './TopicOverviewCard'\n\nimport styles from './style.module.scss'\n\nconst itemRender = (current, type, originalElement) => {\n  if (type === 'prev') {\n    return <img alt=\"previous\" src={iconPrevious} />\n  }\n  if (type === 'next') {\n    return <img alt=\"next\" src={iconNext} />\n  }\n  return originalElement\n}\n\nconst TableTitle = () => (\n  <Row className=\"table-header\">\n    <Col span={20} className=\"title\">\n      Titles\n    </Col>\n    <Col span={4} className=\"statistic\">\n      Statistics\n    </Col>\n  </Row>\n)\n\nexport default function Forum() {\n  const [topics, setTopics] = useState([])\n  const [page, setPage] = useState(1)\n  const [total, setTotal] = useState(0)\n  const [forumName, setForumName] = useState('')\n\n  const { forumId } = useParams()\n\n  useEffect(() => {\n    const fetchData = () => {\n      const search = {\n        page,\n        pageSize: PAGINATION_OPTIONS.FORUM_TOPIC.pageSize,\n      }\n      ForumService.getTopicsByForum(search, forumId).then((resp) => {\n        setTopics(resp.results)\n        setTotal(resp.total)\n      })\n    }\n    fetchData()\n  }, [page])\n\n  useEffect(() => {\n    const fetchData = () => {\n      ForumService.getForumDetails(forumId).then((resp) => {\n        setForumName(resp.name)\n      })\n    }\n    fetchData()\n  }, [])\n\n  return (\n    <div className={styles.forum}>\n      <div className=\"header\">\n        <h3>{forumName}</h3>\n        <Row>\n          <Col className=\"search-bar\">\n            <Input\n              suffix={<img alt=\"search-icon\" src={iconSearch} />}\n              placeholder=\"Tìm tên các chủ đề...\"\n            />\n          </Col>\n          <Col className=\"btn-add-topic\">\n            <Button type=\"primary\">\n              <Link className=\"link\" to={`/forums/${forumId}/new-topic`}>\n                TẠO CHỦ ĐỀ\n              </Link>\n            </Button>\n          </Col>\n        </Row>\n      </div>\n      <div className=\"topics\">\n        {topics && topics.length > 0\n          ? topics.map((topic) => (\n              <TopicOverviewComponent className=\"forum__topic\" topic={topic} key={topic.id} />\n            ))\n          : 'No topic in this forum'}\n      </div>\n      <div className=\"pagination\">\n        <Pagination\n          total={total}\n          simple\n          current={page}\n          pageSize={PAGINATION_OPTIONS.FORUM_TOPIC.pageSize}\n          onChange={(destinationPage) => {\n            setPage(destinationPage)\n          }}\n          itemRender={itemRender}\n        />\n      </div>\n    </div>\n  )\n}\n"],"sourceRoot":""}