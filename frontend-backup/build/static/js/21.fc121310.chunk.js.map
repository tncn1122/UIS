{"version":3,"sources":["service/ForumService.js","asset/img/icon/comment.svg","asset/img/icon/arrow-next.svg","asset/img/icon/arrow-previous.svg","view/Forum/TopicDetail/TopicDetailCard/style.module.scss","view/Forum/TopicDetail/style.module.scss","view/Forum/TopicDetail/TopicDetailCard/index.js","view/Forum/TopicDetail/index.js"],"names":["ForumService","search","url","URLUtils","buildBeURL","BE_ROUTE","FORUM","BASE","PATH","CATEGORIES","HttpService","get","forumId","FORUMS","topicId","TOPICS","POSTS","data","post","postId","isLike","delete","module","exports","TopicDetailCard","className","useState","reply","setReply","countLikes","setCountLikes","countDislikes","setCountDislikes","isLiked","isLikedByUser","setIsLikedByUser","isDisliked","isDislikedByUser","setIsDislikedByUser","span","classnames","styles","owner","type","src","user","userProfile","buildAvatarURL","avatar","alt","username","toLowerCase","full_name","countPosts","moment","createdAt","fromNow","dangerouslySetInnerHTML","__html","htmlContent","onClick","deletePostLikeDislike","id","then","resp","prevCountLikes","catch","error","ErrorHandlerUtils","http","postPostLike","prevCountDislikes","createElement","LikeFilled","LikeOutlined","postPostDislike","DislikeFilled","DislikeOutlined","itemRender","current","originalElement","iconPrevious","iconNext","connect","currentUser","authReducer","props","content","setContent","topicTitle","setTopicTitle","setForumId","posts","setPosts","page","setPage","total","setTotal","forumName","setForumName","useParams","useEffect","pageSize","PAGINATION_OPTIONS","FORUM_POST","getPostsByTopic","results","fetchData","postTopicView","getTopicDetails","topic","title","getForumDetails","name","handleSubmit","postPost","console","log","separator","Item","href","TEXT_UI_FORUM","HOME","map","editor","ClassicEditor","onChange","event","getData","onReady","editing","view","change","writer","setStyle","document","getRoot","onSubmit","iconComment","simple","destinationPage"],"mappings":"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","file":"static/js/21.fc121310.chunk.js","sourcesContent":["import { URLUtils } from 'utils'\nimport { BE_ROUTE } from 'config'\nimport HttpService from './HttpService'\n\nexport default class ForumService {\n  static getCategories(search) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, BE_ROUTE.FORUM.PATH.CATEGORIES)\n    return HttpService.get(url, search)\n  }\n\n  static getForumDetails(forumId) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}`)\n    return HttpService.get(url)\n  }\n\n  static getTopicDetails(topicId) {\n    const url = URLUtils.buildBeURL(BE_ROUTE.FORUM.BASE, `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}`)\n    return HttpService.get(url)\n  }\n\n  static getTopicsByForum(search, forumId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}${BE_ROUTE.FORUM.PATH.TOPICS}`,\n    )\n    return HttpService.get(url, search)\n  }\n\n  static getPostsByTopic(search, topicId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}${BE_ROUTE.FORUM.PATH.POSTS}`,\n    )\n    return HttpService.get(url, search)\n  }\n\n  static postPost(topicId, data) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}${BE_ROUTE.FORUM.PATH.POSTS}`,\n    )\n    return HttpService.post(url, data)\n  }\n\n  static createTopic(forumId, data) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.FORUMS}/${forumId}${BE_ROUTE.FORUM.PATH.TOPICS}`,\n    )\n    return HttpService.post(url, data)\n  }\n\n  static postTopicView(topicId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.TOPICS}/${topicId}/views`,\n    )\n    return HttpService.post(url)\n  }\n\n  static postPostLike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.post(url, { isLike: true })\n  }\n\n  static postPostDislike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.post(url, { isLike: false })\n  }\n\n  static deletePostLikeDislike(postId) {\n    const url = URLUtils.buildBeURL(\n      BE_ROUTE.FORUM.BASE,\n      `${BE_ROUTE.FORUM.PATH.POSTS}/${postId}/likes`,\n    )\n    return HttpService.delete(url)\n  }\n}\n","export default __webpack_public_path__ + \"static/media/comment.5f49da4a.svg\";","export default __webpack_public_path__ + \"static/media/arrow-next.58fc74a6.svg\";","export default __webpack_public_path__ + \"static/media/arrow-previous.ed8201ba.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic-detail___card\":\"style_topic-detail___card__NPDRp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic-detail\":\"style_topic-detail__3J93f\"};","import React, { createElement, useState } from 'react'\nimport { Row, Col } from 'antd'\nimport moment from 'moment'\nimport { LikeOutlined, LikeFilled, DislikeOutlined, DislikeFilled } from '@ant-design/icons'\nimport classnames from 'classnames'\n\nimport ForumService from 'service/ForumService'\nimport { ErrorHandlerUtils, URLUtils } from 'utils'\n\nimport styles from './style.module.scss'\n\nexport default function TopicDetailCard({ post, className }) {\n  const [reply, setReply] = useState(false)\n  const [countLikes, setCountLikes] = useState(post.countLikes ? post.countLikes : 0)\n  const [countDislikes, setCountDislikes] = useState(post.countDislikes ? post.countDislikes : 0)\n  const [isLikedByUser, setIsLikedByUser] = useState(post.isLiked ? post.isLiked : false)\n  const [isDislikedByUser, setIsDislikedByUser] = useState(\n    post.isDisliked ? post.isDisliked : false,\n  )\n\n  const handleLike = () => {\n    if (isLikedByUser) {\n      ForumService.deletePostLikeDislike(post.id)\n        .then((resp) => {\n          setCountLikes((prevCountLikes) => prevCountLikes - 1)\n          setIsLikedByUser(false)\n        })\n        .catch((error) => {\n          ErrorHandlerUtils.http(error)\n        })\n    } else {\n      ForumService.postPostLike(post.id)\n        .then((resp) => {\n          setCountLikes((prevCountLikes) => prevCountLikes + 1)\n          setIsLikedByUser(true)\n          if (isDislikedByUser) {\n            setIsDislikedByUser(false)\n            setCountDislikes((prevCountDislikes) => prevCountDislikes - 1)\n          }\n        })\n        .catch((error) => {\n          ErrorHandlerUtils.http(error)\n        })\n    }\n  }\n\n  const handleDislike = () => {\n    if (isDislikedByUser) {\n      ForumService.deletePostLikeDislike(post.id)\n        .then((resp) => {\n          setCountDislikes((prevCountDislikes) => prevCountDislikes - 1)\n          setIsDislikedByUser(false)\n        })\n        .catch((error) => {\n          ErrorHandlerUtils.http(error)\n        })\n    } else {\n      ForumService.postPostDislike(post.id)\n        .then((resp) => {\n          setCountDislikes((prevCountDislikes) => prevCountDislikes + 1)\n          setIsDislikedByUser(true)\n          if (isLikedByUser) {\n            setIsLikedByUser(false)\n            setCountLikes((prevCountLikes) => prevCountLikes - 1)\n          }\n        })\n        .catch((error) => {\n          ErrorHandlerUtils.http(error)\n        })\n    }\n  }\n\n  return (\n    <Row\n      span={24}\n      className={classnames(styles['topic-detail___card'], className, {\n        [styles.owner]: post.type === 'owner',\n      })}\n    >\n      <Col span={4} className=\"topic__user\">\n        <img\n          src={\n            post.user.userProfile\n              ? URLUtils.buildAvatarURL(post.user.userProfile.avatar)\n              : URLUtils.buildAvatarURL()\n          }\n          alt=\"\"\n        />\n        <div className=\"username\">{`@${post.user.username.toLowerCase()}`}</div>\n        <div className=\"fullname\">\n          {post.user.userProfile && post.user.userProfile.full_name\n            ? post.user.userProfile.full_name\n            : post.user.username}\n        </div>\n        <div className=\"count-posts\">Post: {post.user.countPosts}</div>\n      </Col>\n      <Col span={19} className=\"post\">\n        <div className=\"time\">{moment(post.createdAt).fromNow()}</div>\n        <div className=\"content\" dangerouslySetInnerHTML={{ __html: post.htmlContent }} />\n        <div className=\"bottom\">\n          <div className=\"btn-group\">\n            <span className=\"like\" onClick={handleLike}>\n              {createElement(isLikedByUser ? LikeFilled : LikeOutlined)}\n              &nbsp; {countLikes}\n            </span>\n            <span className=\"dislike\" onClick={handleDislike}>\n              {createElement(isDislikedByUser ? DislikeFilled : DislikeOutlined)}\n              &nbsp; {countDislikes}\n            </span>\n            <span className=\"btn-reply\" onClick={() => setReply(!reply)}>\n              Trả lời\n            </span>\n          </div>\n        </div>\n      </Col>\n    </Row>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { CKEditor } from '@ckeditor/ckeditor5-react'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport { Button, Pagination, Breadcrumb } from 'antd'\nimport { Link, useParams } from 'react-router-dom'\n\nimport { PAGINATION_OPTIONS, TEXT_UI_FORUM } from 'config'\nimport ForumService from 'service/ForumService'\n\nimport iconComment from 'asset/img/icon/comment.svg'\nimport iconNext from 'asset/img/icon/arrow-next.svg'\nimport iconPrevious from 'asset/img/icon/arrow-previous.svg'\nimport TopicDetailCard from './TopicDetailCard'\nimport styles from './style.module.scss'\n\nconst itemRender = (current, type, originalElement) => {\n  if (type === 'prev') {\n    return <img alt=\"previous\" src={iconPrevious} />\n  }\n  if (type === 'next') {\n    return <img alt=\"next\" src={iconNext} />\n  }\n  return originalElement\n}\n\nconst mapStateToProps = ({ authReducer: { currentUser } }) => ({\n  currentUser,\n})\n\nconst TopicDetail = (props) => {\n  const [content, setContent] = useState('')\n  const [topicTitle, setTopicTitle] = useState('')\n  const [forumId, setForumId] = useState(0)\n  const [posts, setPosts] = useState([])\n  const [page, setPage] = useState(1)\n  const [total, setTotal] = useState(0)\n  const [forumName, setForumName] = useState('')\n\n  const { topicId } = useParams()\n\n  const { currentUser } = props\n\n  useEffect(() => {\n    const newPosts = []\n\n    const fetchData = () => {\n      const search = {\n        page,\n        pageSize: PAGINATION_OPTIONS.FORUM_POST.pageSize,\n      }\n      ForumService.getPostsByTopic(search, topicId).then((resp) => {\n        setPosts(resp.results)\n        setTotal(resp.total)\n      })\n    }\n    fetchData()\n  }, [page])\n\n  useEffect(() => {\n    const fetchData = () => {\n      ForumService.getTopicDetails(topicId).then((topic) => {\n        setTopicTitle(topic.title)\n        ForumService.getForumDetails(topic.forumId).then((resp) => {\n          setForumName(resp.name)\n          setForumId(resp.id)\n        })\n      })\n    }\n\n    const updateNewsView = () => {\n      ForumService.postTopicView(topicId)\n    }\n    updateNewsView()\n    fetchData()\n  }, [])\n\n  useEffect(() => {}, [])\n\n  const handleSubmit = () => {\n    const htmlContent = content\n    ForumService.postPost(topicId, { htmlContent }).then((post) => {\n      setPosts([\n        ...posts,\n        {\n          ...post,\n          user: currentUser,\n        },\n      ])\n      console.log('Success post: ', post)\n    })\n  }\n  return (\n    <div className={styles['topic-detail']}>\n      <Breadcrumb className=\"breadcrumb\" separator=\">\">\n        <Breadcrumb.Item href=\"/\">{TEXT_UI_FORUM.HOME}</Breadcrumb.Item>\n        <Breadcrumb.Item href=\"/forums\">{TEXT_UI_FORUM.FORUM}</Breadcrumb.Item>\n        <Breadcrumb.Item href={`/forums/${forumId}`}>{forumName}</Breadcrumb.Item>\n        <Breadcrumb.Item>{topicTitle}</Breadcrumb.Item>\n      </Breadcrumb>\n      {posts.map((post) => (\n        <TopicDetailCard className=\"topic-detail__item\" key={post.id} post={post} />\n      ))}\n      <div className=\"suggestion\">\n        <div className=\"create-post\">\n          <CKEditor\n            editor={ClassicEditor}\n            data={content}\n            onChange={(event, editor) => setContent(editor.getData())}\n            onReady={(editor) => {\n              editor.editing.view.change((writer) => {\n                writer.setStyle('height', '50px', editor.editing.view.document.getRoot())\n              })\n            }}\n            onSubmit={handleSubmit}\n          />\n          <div className=\"btn-group\">\n            <Button type=\"text\" className=\"button-inactive\">\n              Cancel\n            </Button>\n            <Button type=\"text\" className=\"button-active\" onClick={handleSubmit}>\n              <img alt=\"comment\" src={iconComment} />\n              Trả lời\n            </Button>\n          </div>\n        </div>\n      </div>\n      <div className=\"pagination\">\n        <Pagination\n          total={total}\n          simple\n          current={page}\n          pageSize={PAGINATION_OPTIONS.FORUM_POST.pageSize}\n          onChange={(destinationPage) => {\n            setPage(destinationPage)\n          }}\n          itemRender={itemRender}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps)(TopicDetail)\n"],"sourceRoot":""}