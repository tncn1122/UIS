(this["webpackJsonpcode-tour-frontend"]=this["webpackJsonpcode-tour-frontend"]||[]).push([[25],{593:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(195);var a=c(222);function r(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},953:function(e,t,c){e.exports={icon:"style_icon__3Xa1B",card:"style_card__2R2PZ","card-header":"style_card-header__1fV7h","card-body":"style_card-body__3Nvns"}},954:function(e,t,c){e.exports={"user-avatar-block":"style_user-avatar-block__3rlaW","user-info-title":"style_user-info-title__3Elee","user-info-row":"style_user-info-row__1MdFQ","user-info-body":"style_user-info-body__2UgM2","user-info-label":"style_user-info-label__24zpY","card-block":"style_card-block__2S2V3","edit-icon":"style_edit-icon__ibbd1","user-menu":"style_user-menu__iiwTE","create-team":"style_create-team__wYjul"}},975:function(e,t,c){"use strict";c.r(t);c(122);var n=c(51),a=(c(214),c(138)),r=(c(83),c(33)),i=(c(136),c(39)),s=(c(189),c(137)),l=c(58),o=c.n(l),u=c(250),d=(c(571),c(570)),b=c(46),j=c(0),E=c(52),m=c(5),f=c.n(m),h=c(11),O=c(89),M=c(8),_=c(77),A=(c(315),c(146)),T=c(593),x=(c(332),c(163)),v=(c(139),c(84)),p=c(4),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},y=c(15),g=function(e,t){return j.createElement(y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t,icon:N}))};g.displayName="EditFilled";var I=j.forwardRef(g),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},w=function(e,t){return j.createElement(y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t,icon:R}))};w.displayName="DeleteFilled";var k=j.forwardRef(w),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},F=function(e,t){return j.createElement(y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t,icon:D}))};F.displayName="PlusCircleOutlined";var C=j.forwardRef(F),S=c(953),L=c.n(S),G=c(6),z=v.a.Text;function U(e){var t=e.teamName,c=e.teamID,r=e.description,l=e.members,o=e.currentUser,u=e.isLoading,E=e.bordered,m=e.fetchTeamData,f=!!l&&l.find((function(e){return e.title===M.v.TEAM_MANAGEMENT.ROLE_LEADER})),v=f&&f.id===o.id,p=Object(j.useState)(u),N=Object(b.a)(p,2),y=N[0],g=(N[1],Object(j.useState)(!1)),R=Object(b.a)(g,2),w=R[0],D=R[1],F=Object(j.useState)(!1),S=Object(b.a)(F,2),U=S[0],V=S[1],B=x.a.useModal(),H=Object(b.a)(B,2),P=(H[0],H[1]),Q=Object(j.useState)(!1),q=Object(b.a)(Q,2),J=q[0],W=q[1],Y=Object(j.useState)(!1),X=Object(b.a)(Y,2),Z=X[0],K=X[1],$=Object(j.useState)(null),ee=Object(b.a)($,2),te=ee[0],ce=ee[1],ne=d.a.useForm(),ae=Object(b.a)(ne,1)[0],re=d.a.useForm(),ie=Object(b.a)(re,1)[0],se=Object(G.jsx)(_.c,{title:M.v.TEAM_MANAGEMENT.TITLE_ADD_MEMBER,visible:U,onOk:ae.submit,okText:M.k.INVITE,onCancel:function(){return V(!1)},children:Object(G.jsx)(d.a,{layout:"vertical",name:"create-team-form",form:ae,onFinish:function(e){O.e.addMember(c,e).then((function(){ae.resetFields(),m()})).catch((function(e){ae.resetFields(),h.c.http(e)}))},children:Object(G.jsx)(d.a.Item,{name:"email",rules:[{required:!0,message:M.w.USERNAME_OR_EMAIL_REQUIRED}],children:Object(G.jsx)(s.a,{placeholder:"Email",onChange:function(e){return ae.setFieldsValue({email:e.target.value})}})})})}),le=Object(G.jsx)(_.c,{title:M.v.TEAM_MANAGEMENT.TITLE_TEAM_EDIT,visible:w,onOk:ie.submit,onCancel:function(){D(!1),ie.resetFields()},children:Object(G.jsx)(d.a,{layout:"vertical",name:"edit-team-form",form:ie,onFinish:function(e){var n=e.newName;h.g.empty(n)||n===t?(D(!1),ie.resetFields()):O.e.rename(c,e).then((function(){D(!1),m(),ie.resetFields()})).catch((function(e){h.c.http(e)}))},initialValues:{newName:t},children:Object(G.jsx)(d.a.Item,{name:"newName",label:M.v.TEAM_MANAGEMENT.TEAM_NAME,rules:[{required:!0,message:M.w.TEAM_NAME_REQUIRED}],children:Object(G.jsx)(s.a,{placeholder:"Name",onChange:function(e){return ie.setFieldsValue({newName:e.target.value})}})})})}),oe=Object(G.jsx)(_.c,{title:M.v.TEAM_MANAGEMENT.TITLE_DELETE_TEAM,visible:J,onOk:function(){O.e.deleteTeam(c).then((function(){W(!1),m()})).catch((function(e){h.c.http(e)}))},onCancel:function(){return W(!1)},children:Object(G.jsx)(z,{style:{fontSize:10},children:M.v.TEAM_MANAGEMENT.DESCRIPTION_DELETE_TEAM})}),ue=Object(G.jsx)(_.c,{title:M.v.TEAM_MANAGEMENT.TITLE_DELETE_MEMBER,visible:Z,onOk:function(){O.e.deleteMember(te.id,c).then((function(){K(!1),m()})).catch((function(e){h.c.http(e)}))},onCancel:function(){return K(!1)},children:Object(G.jsx)(z,{style:{fontSize:10},children:M.v.TEAM_MANAGEMENT.DESCRIPTION_DELETE_MEMBER})});return Object(G.jsxs)(a.a,{title:t,className:L.a.card,extra:v?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(_.f,{icon:Object(G.jsx)(I,{}),onClick:function(){D(!0)}}),le,Object(G.jsx)(_.f,{icon:Object(G.jsx)(k,{}),onClick:function(){W(!0)}}),P]}):Object(G.jsx)(G.Fragment,{}),loading:y,bordered:E,children:[oe,ue,Object(G.jsxs)("div",{className:L.a["card-body"],children:[Object(G.jsx)("p",{className:"typography-small italic",children:r}),se,Object(G.jsx)(A.b,{dataSource:l.length>=5?l:[].concat(Object(T.a)(l),[{id:"addMember"}]),renderItem:function(e){return"addMember"===e.id?Object(G.jsx)(A.b.Item,{children:Object(G.jsx)(A.b.Item.Meta,{title:Object(G.jsx)(_.e,{icon:Object(G.jsx)(C,{}),text:M.k.ADD_MEMBER,onClick:function(){return V(!0)}})},h.e.generateId())}):Object(G.jsx)(A.b.Item,{style:{display:"block"},children:Object(G.jsxs)(n.a,{align:"middle",className:"typography-menu-subtext",children:[Object(G.jsx)(i.a,{span:8,children:"pending"===e.status?Object(G.jsx)("span",{className:"italic color-red",children:M.v.TEAM_MANAGEMENT.WAITING}):Object(G.jsx)("span",{className:"color-grey-lighter",children:M.v.TEAM_MANAGEMENT[e.title]})}),Object(G.jsx)(i.a,{span:14,children:Object(G.jsx)("span",{className:"color-black",children:e.email})}),Object(G.jsx)(i.a,{span:2,children:v&&e.title!==M.v.TEAM_MANAGEMENT.ROLE_LEADER&&Object(G.jsx)(_.f,{icon:Object(G.jsx)(k,{}),onClick:function(){ce(e),K(!0)}})})]})},h.e.generateId())}})]})]},c)}var V=c(954),B=c.n(V);t.default=Object(E.c)((function(e){return{currentUser:e.authReducer.currentUser}}))((function(e){var t=e.currentUser,c=Object(j.useState)(!1),l=Object(b.a)(c,2),E=l[0],m=l[1],A=Object(j.useState)([]),T=Object(b.a)(A,2),x=T[0],v=T[1],p=d.a.useForm(),N=Object(b.a)(p,1)[0],y=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.f.getTeamInfo().then((function(e){v(e)})).catch((function(e){h.c.http(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.e.createTeam(t).then((function(){m(!1),N.resetFields(),y()})).catch((function(e){h.c.http(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(G.jsx)(_.c,{title:M.v.TEAM_MANAGEMENT.CREATE_TEAM,visible:E,onOk:N.submit,onCancel:function(){m(!1),N.resetFields()},children:Object(G.jsxs)(d.a,{layout:"vertical",name:"create-team-form",form:N,onFinish:g,children:[Object(G.jsx)(d.a.Item,{name:"name",label:M.v.TEAM_MANAGEMENT.TEAM_NAME,rules:[{required:!0,message:M.w.TEAM_NAME_REQUIRED}],children:Object(G.jsx)(s.a,{onChange:function(e){return N.setFieldsValue({name:e.target.value})}})}),Object(G.jsx)(d.a.Item,{name:"description",label:M.v.TEAM_MANAGEMENT.TEAM_DESCRIPTION,children:Object(G.jsx)(s.a.TextArea,{autoSize:{minRows:5,maxRows:6},onChange:function(e){return N.setFieldsValue({description:e.target.value})}})})]})});return Object(j.useEffect)((function(){y()}),[]),Object(G.jsxs)("div",{className:B.a["user-info-body"],children:[Object(G.jsx)("h2",{className:f()(B.a["user-info-title"],"typography-subtitle-regular"),children:M.v.GENERAL_INFORMATION}),Object(G.jsx)("div",{children:Object(G.jsxs)(_.l,{children:[Object(G.jsxs)(n.a,{gutter:[32,32],id:"team-list",children:[x.map((function(e){return Object(G.jsx)(i.a,{span:12,children:Object(G.jsx)(U,{teamName:e.name,teamID:e.teamID,description:e.description,members:e.members,currentUser:t,fetchTeamData:y,bordered:!0},h.e.generateId())},h.e.generateId())})),Object(G.jsx)(i.a,{span:12,children:Object(G.jsx)(a.a,{className:f()(B.a["create-team"],"align-content-center"),children:Object(G.jsxs)("div",{style:{textAlign:"center"},children:[Object(G.jsx)("p",{className:"typography-menu-subtext color-grey-lighter",children:M.v.TEAM_MANAGEMENT.CREATE_TEAM}),Object(G.jsx)(r.a,{type:"primary",onClick:function(){return m(!E)},children:M.k.CREATE_TEAM})]})})})]}),I]})})]})}))}}]);
//# sourceMappingURL=25.40394d89.chunk.js.map